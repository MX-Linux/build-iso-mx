README file for the build-antiX Template
========================================

The files in the Template directory combined with the settings in the
DEFAULT file control most aspects of the program's operation.  Many
variables in the DEFAULTS file can be updated by the program but
almost all of the information in the Template is untouched by the
program.  The one exception is the manual-selections output file.

The program can create three different "flavours" of iso called
"core", "base", and "full".  The primary distinction between flavours
is the list of application packages to be installed.   Other
distinctions include the boot menu entires and even the boot menu
background image (if desired).

Information that is common to all three flavours is in the COMMON
directory.  Flavour specific information is in directories labeled by
flavour.  The base-AND-full directory is for information that is
common to the base and full flavours.

Any file ending in ".list" is a list file.  It has items (usually,
but not always, package names) listed one per line.  They get
automatically combined and deduped.  Comment lines and empty lines
are ignored.  For example, if you are building the "base" flavour
then .list files from the directories: "COMMON", "base-AND-full",
and "base" will be combined and deduped when building the iso.


Top Level Subdirectories
------------------------
Information in the Template is organized in the following fiye
subdirectories according to which flavours use that information.  If
you want to add a package to a list for all three flavours you can add
it once to a file in the COMMON directory or add it to a file in each
specific flavour directory, or even add it to a file in the core
directory and to a file in the base-AND-full directory.  Becase we
dedupe, you could even add it to files in all 5 directories.  

   COMMON                 Common to all flavours
   base-AND-full          Only in base and full flavours
   core                   Only in core flavour
   base                   Only in base flavour
   full                   Only in full flavour

List Files
----------
Files with names ending in ".list" are list files. In theory there can
be a copy of these in any subdirectory and their contents will be
combined automatically by the program to form a single list applicable
to the flavour being built.  In practice the two files labeled with **
should only exist in the COMMON directory for now.  The program can be
modified to be more flexible with these two files if it is required.
In that case there will be multiple manual-selections output files.

  basic-applications.list  Small list of packages loaded early
  delete-files.list        Files deleted chroot 
  exclude-bootstrap.list   Packages excluded from debootstrap
  exclude-chroot.list      Packages excluded from install
  package.list             Packages to install  
  pesky-packages.list      Packages that require user interaction
**reconfigure.list         Packages to be manually reconfigured
**save-selections.list     Packages that have their settings saved
  user-groups.list         Groups the user is added to

Output files
------------
Files generated by the program.  This file is currently only created
in the COMMON directory.  The program could be modified so it is
flavour dependent in which case the file would be generated in
whatever directory the rconfigure.list or save-selections list input
file(s) resides.

  manual-selections       Settings for packages on the reconfigure.list
                            and on the save-selections.list

Flavour dependent files
-----------------------
These files can exist in COMMON and or in the flavour directories.
The files in the flavour directories override files in COMMON.

  gfxboot.menu            Fn menu assignement for gfxboot.cfg

  isolinux.cfg            Used to create the boot menus in isolinux.cfg
                            and Grub's menu.lst

  default-desktop         The default window manager

  keyring.gpg             GPG keyring for debootstrap


Directories
-----------
These directories can exist in COMMON and in the flavour directories.
The are all copied entirely.  If the COMMON directory exits it is
copied first.  If the flavour directory exists then it is copied
last possibly overriding files from the COMMON directory.

  gfxboot/                Template to create isolinux and grub config
  initrd/                 Template to create initrd.gz in iso
  iso/                    Template to create iso file
  squashfs/               Template to create chroot environment
                            in addition to what debootstrap creates.

Note: The gfxboot directory serves almostly exactly the same purpose
as the iso/boot/isolinux/ directory.  You can still use the original
for most things (although this is discouraged) but two files *must*
be in the gfxboot/ directory: gfxboot.cfg and back.jpg.
